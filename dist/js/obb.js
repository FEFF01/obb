!function(t){var e={};function n(r){if(e[r])return e[r].exports;var i=e[r]={i:r,l:!1,exports:{}};return t[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)n.d(r,i,function(e){return t[e]}.bind(null,i));return r},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=0)}([function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.reaction=e.watch=e.computed=e.runAction=e.action=e.runAtomic=e.atomic=e.autorun=e.observable=e.Subscriber=e.Observer=void 0;const r=[],i=[],o=[],l=[],s=new WeakMap,c=["iterate"],a=["undefined"];class u{constructor(t){this.target=t,this.refmap=new Map,this.ownmap=new Map,this._has=t=>t in this.target,this._val=t=>this.target[t],this._proxy_handler={get:(t,e)=>{let n=t[e];return"__proto__"!==e&&(n=y(n),this.collect(e)),n},set:(t,e,n)=>{let r=t[e],i=s.get(n),o=i?i.target:n,l=t.hasOwnProperty(e),a=g(r,o);return a&&l||(t[e]=o),a||this.notify(e,r),l||(this.notify(e,!1,1),this.notify(c,c,1)),!0},ownKeys:t=>(this.collect(c,1),h(t)),has:(t,e)=>(this.collect(e,1),e in t),deleteProperty:(t,e)=>d(()=>(t.hasOwnProperty(e)&&(this.notify(e,t[e]),this.notify(e,!0,1),this.notify(c,c,1)),delete t[e]))};let e=s.get(t);if(e)return e;switch(!0){case t instanceof WeakSet:case t instanceof WeakMap:case t instanceof Map:case t instanceof Set:!function(t){var e;let n=t.target,r=n.__proto__,i=new u({}),o=(null===(e=Object.getOwnPropertyDescriptor(r,"size"))||void 0===e?void 0:e.get.bind(n))||function(){};t.release=function(){return i.release(),t.release()},i._has=r.has.bind(n),i._val=n instanceof Map||n instanceof WeakMap?function(t){return r.get.call(n,t)}:function(t){return r.has.call(n,t)?t:a};let l=Object.assign({get:t=>(i.collect(t),y(r.get.call(n,t))),set(t,e){let o=r.has.call(n,t),l=o?r.get.call(n,t):void 0;return r.set.call(n,t,e),i.notify(t,l),o||i.notify(t,!1,1),this},add(e){return r.has.call(n,e)||d(()=>{let l=o();r.add.call(n,e),void 0!==l&&t.notify("size",l),i.notify(e,a),i.notify(e,!1,1),i.notify(c,c,1)}),this},delete(e){let l=r.get,s=l?l.call(n,e):e,a=r.delete.call(n,e);return a&&d(()=>{let n=o();void 0!==n&&t.notify("size",n),i.notify(e,s),i.notify(e,!0,1),i.notify(c,c,1)}),a},clear(){let e=o();e&&d(()=>{r.forEach.call(n,(t,e)=>{i.notify(e,t),i.notify(e,!0,1)}),t.notify("size",e),i.notify(c,c,1),r.clear.call(n)})},forEach:(t,...e)=>(i.collect(c,1),r.forEach.call(n,(function(e,...n){t(y(e),...n)}),...e)),has:t=>(i.collect(t,1),r.has.call(n,t)),size:o},["keys","entries","values",Symbol.iterator].reduce((function(t,e){let o=r[e];return o&&(t[e]=function(){return i.collect(c,1),v(o.apply(n,arguments))}),t}),{})),s={},f=h(r);for(let t of f){let e=l[t],n=Object.getOwnPropertyDescriptor(r,t);e&&(void 0!==n.value?n.value=e:n.get=e),s[t]=n}n.__proto__=Object.create(n.__proto__.__proto__,s)}(this);break;case t[Symbol.iterator]:case t instanceof Array:!function(t){let e=t.target,n=e.__proto__,r=t._proxy_handler.set;e.__proto__=Object.create(n,Array.prototype.concat.call(["push","pop","shift","unshift","splice","sort","reverse"].map((function(t){const e=n[t];return e&&[t,function(){let t=arguments;return d(()=>e.apply(this,t))}]})),["values",Symbol.iterator].map((function(r){const i=n[r];return i&&[r,function(){return t.collect(c,1),v(i.call(e))}]}))).reduce((function(t,e){return e&&(t[e[0]]={value:e[1]}),t}),{})),t._proxy_handler.set=function(n,i,o){let l=e.length;return d((function(){let s=r(n,i,o);return e.length!==l&&t.notify("length",l),s}))}}(this)}this.proxy=new Proxy(t,this._proxy_handler),s.set(this.proxy,this),s.set(t,this)}collect(t,e){let n=r[0];if(n){let r=this._map(e),i=r.get(t);i||r.set(t,i=new Set),n.depend(i)}}release(){for(let t of[this.refmap,this.ownmap])t.forEach(t=>{t.forEach(e=>e.undepend(t))}),t.clear()}notify(t,e,n=2){if(null===l[0])return;let r=this._map(n).get(t);r&&r.size&&b(Array.from(r),l.length&&[this,t,e,n])}_map(t){return 1!==t?this.refmap:this.ownmap}}e.Observer=u;class f{constructor(t){this.fn=t,this.children=[],this._deps=new Set,this.is_run=!1}undepend(t){this._deps.delete(t),t.delete(this)}depend(t){this._deps.add(t),t.add(this)}release(){this._deps.forEach(t=>t.delete(this)),this._deps.clear();for(let t of this.children)t.release(),t.parent=void 0;this.children.length=0}unmount(){var t;this.release();let e=null===(t=this.parent)||void 0===t?void 0:t.children;e&&e.splice(e.indexOf(this),1),this.parent=void 0}mount(){return void 0!==this.parent?new f(this.fn).mount():(this.parent=r[0]||null,this.parent&&this.parent.children.push(this),this._run(),this)}update(){return this.release(),this._run()}addRecord(t){let e=l[0][0],n=o.indexOf(this);n<0||i[n][0]<e?(i.unshift([e,[t]]),o.unshift(this)):i[n][1].push(t)}_run(){this.is_run=!0,r.unshift(this);try{return this.fn()}catch(t){throw t}finally{r.shift(),this.is_run=!1}}}function h(t){return Array.prototype.concat.call(Object.getOwnPropertySymbols(t),Object.getOwnPropertyNames(t))}function p(t,e){!function(t){let e=l[0];t=void 0===t&&e?e[1]:!!t,l.unshift([t&&e?e[0]:l.length,t])}(e);try{return t()}catch(t){throw t}finally{!function(){let t=[],e=l.shift(),n=e[0];if(e[1]&&0!==l.length)return;for(;o.length;){let e=i[0];if(e[0]<n)break;let r=o[0];if(t.indexOf(r)<0){let n=new Map;for(let l of e[1]){let e,s=l[0],c=l[1],a=n.get(s);if(a){if(a.has(c))continue;a.add(c)}else n.set(s,new Set([c]));if(!g(1!==l[3]?s._val(c):s._has(c),l[2])){for(t.unshift(r);(e=o.lastIndexOf(r))>0;)o.splice(e,1),i.splice(e,1);break}}}o.shift(),i.shift()}b(t)}()}}function d(t){return p(t,!0)}function y(t){return t&&"object"==typeof t?new u(t).proxy:t}function _(t,e){let n=[],r=new f((function(){n.unshift(t()),n.length>1&&(e(n[0],n[1]),n.length=1)}));return r.mount(),function(){r.unmount()}}function b(t,e){let n=[];t:for(let e,r=0;r<t.length;r++){for(e=t[r];e=e.parent;)if(t.indexOf(e)>=0){t.splice(r--,1);continue t}e=t[r],e.is_run||n.push(t[r])}for(let t of n)e?t.addRecord(e):t.update()}function g(t,e){return t===e||t!=t&&e!=e}function v(t){let e=t.next.bind(t);return t.next=function(){let{done:t,value:n}=e();return t||(n=y(n)),{done:t,value:n}},t}e.Subscriber=f,e.atomic=function(t){return p.bind(null,t,!0)},e.runAtomic=d,e.action=function(t){return p.bind(null,t)},e.runAction=function(t){return p(t)},e.autorun=function(t){let e=new f(t);return e.mount(),function(){e.unmount()}},e.observable=y,e.computed=function(t){let e,n=0,r=new f((function(){(n^=1)&&(e=t())}));return function(){return n||r.update(),e}},e.watch=_,e.reaction=function(t,e){return _(t,(function(t,n){g(t,n)||e(t)}))}}]);
//# sourceMappingURL=obb.js.map